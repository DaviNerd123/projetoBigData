<!DOCTYPE html>
<html>
  <head>
    <title>Formulário e Gráfico de Pizza</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <link rel="stylesheet" href="../estilos/convite.css" />
    <link rel="stylesheet" href="../estilos/padrao.css" />
    <link rel="stylesheet" href="../estilos/style.css" />
    <link rel="stylesheet" href="../estilos/form.css" />
  </head>
  <body>
    <menu>
      <menu>
        <div id="bmenu">
          <div>
            <a href="index.html">Lobby</a>
  
            <a href="convites.html">Convites</a>
          </div>
          <div id="login">
            <div>
              <a href=""></a>
            </div>
          </div>
        </div>
      </menu>
      <header>
        <div>
          <h1>Festa:Casamento</h1>
        </div>
      </header>
      <h1>Formulário</h1>
      <form id="myForm">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" /><br /><br />
  
        <label for="sexo">Sexo:</label>
        <select id="sexo" name="sexo">
          <option value="masculino">Masculino</option>
          <option value="feminino">Feminino</option></select
        ><br /><br />
  
        <input
          type="submit"
          value="Enviar"
          style="
            height: 40px;
            text-decoration: none;
            background-color: rgb(4, 150, 4);
  
            color: white;
  
            border: 0px;
  
            padding-top: 10px;
            padding-bottom: 10px;
          "
        />
      </form>
  
      <h1>Dados inseridos</h1>
      <div id="t">
        <table border="1">
          <thead>
            <tr>
              <th>Nome</th>
              <th>Sexo</th>
            </tr>
          </thead>
          <tbody id="corpoTabela"></tbody>
        </table>
      </div>
  
      <h1>Relação de quantidade entre sexos</h1>
     <div style="width: 400px; height: 400px" id="pizza">
        <canvas id="myChart" width="100" height="100"></canvas>
      </div>
  
      <button onclick="casamento()">Orçamento</button>
      <script src="../form.js"></script>

    <script>
      const form = document.getElementById("myForm");
      const table = document.querySelector("table");
      const chartCanvas = document.getElementById("myChart");

      const data = {
        labels: ["Masculino", "Feminino"],
        datasets: [
          {
            data: [0, 0],
            backgroundColor: ["gray", "orange"],
          },
        ],
      };

      const ctx = chartCanvas.getContext("2d");
      const myChart = new Chart(ctx, {
        type: "pie",
        data: data,
      });

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const nomeInput = document.getElementById("nome");
        const sexoSelect = document.getElementById("sexo");

        const nome = nomeInput.value;
        const sexo = sexoSelect.value;

        // Adiciona os dados à tabela
        const newRow = table.insertRow(-1);
        const cell1 = newRow.insertCell(0);
        const cell2 = newRow.insertCell(1);
        cell1.innerHTML = nome;
        cell2.innerHTML = sexo;

        // Atualiza o gráfico de pizza
        if (sexo === "masculino") {
          data.datasets[0].data[0]++;
        } else if (sexo === "feminino") {
          data.datasets[0].data[1]++;
        }

        myChart.update();

        // Limpa o formulário
        nomeInput.value = "";
        sexoSelect.value = "masculino";
      });
    </script>
  </body>
</html>
￼Enter
